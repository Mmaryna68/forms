<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Решение задач</title>
  </head>
  <body>
    <h1>Решение задач (тренировка регулярных выражений)</h1>

    <!-- Задача 1 -->
    <h2>Задача 1</h2>
    <p>Введите год:</p>
    <input type="text" id="year-input" />
    <button onclick="checkYear()">Проверить</button>
    <p id="year-result"></p>

    <!-- Задача 2 -->
    <h2>Задача 2</h2>
    <p>Введите текст:</p>
    <input type="text" id="text-input" />
    <button onclick="removeDuplicates()">Удалить повторы</button>
    <p id="text-result"></p>

    <!-- Задача 3 -->
    <h2>
      Задача 3. Удалите одной регуляркой все повторяющиеся слова из строки,
      например для 'ааву ааа ааа ап' должно вернуть 'ааву xxx ап'.
    </h2>
    <p>Введите текст:</p>
    <input type="text" id="text2-input" />
    <button onclick="replaceWords()">Заменить повторяющиеся слова</button>
    <p id="text2-result"></p>

    <!-- Задача 4 -->
    <h2>Задача 4</h2>
    <p>Введите текст:</p>
    <input type="text" id="text3-input" />
    <button onclick="removeRepeatedWords()">Удалить повторы слов</button>
    <p id="text3-result"></p>

    <script>
      // Задача 1
      function checkYear() {
        const yearInput = document.getElementById("year-input").value;
        const regex = /^20(0\d|1[0-9])$/;

        if (regex.test(yearInput)) {
          document.getElementById("year-result").innerHTML =
            "Год входит в интервал от 2000 до 2100";
        } else {
          document.getElementById("year-result").innerHTML =
            "Год не входит в интервал от 2000 до 2100";
        }
      }

      // Задача 2
      function removeDuplicates() {
        const textInput = document.getElementById("text-input").value;
        const regex = /\b\w*(\w)\1\w*\b/g;
        const result = textInput.replace(regex, "");

        document.getElementById("text-result").innerHTML = result;
      }

      // Задача 3
      function replaceWords() {
        const textInput = document.getElementById("text2-input").value;
        const regex = /(\b\w+\b)(?=.*\b\1\b)/g;

        const result = textInput.replace(regex, "xxx");

        document.getElementById("text2-result").innerHTML = result;
      }

      // Задача 4
      function removeRepeatedWords() {
        const textInput = document.getElementById("text3-input").value;
        const regex = /(\b\w+\b)(?=.*\b\1\b)+/g;
        const result = textInput.replace(regex, "xxx");

        document.getElementById("text3-result").innerHTML = result;
      }
    </script>
  </body>
</html>
